# Python 学習用 1 競技プログラミング

## 競技プログラミング

python 学習のために競技プログラミングで基本文法を学習しています。  
 現在、競技プログラミングの鉄則を解いています。  
 なるべく構造化したプログラムで解を出すようにしていますが、アルゴリズムの直接実装のような問題は  
 汎用化が難しいですね。

### 関数化・クラス化しておいた方が良い物

#### 学習を進める中で標準ライブラリにはなく、関数化したほうがよいものをまとめています。

- List 累積和
- List 横縦累積和

- スタックを実現するクラス  
  list で十分。
  速度的に厳しい場合は deque ライブラリを使う。
  ```
  from collections import deque
  ```
- キューを実現するクラス  
  list で十分。  
  速度的に厳しい場合は deque ライブラリを使う。

  ```
  from collections import deque
  ```

- セグメント木  
  一から実装するとインデックス地獄になるのでクラス化されているものを利用(A58-3 参照)

## Python コンフィグ的な情報

- 再帰上限  
  上げられます。上げないと無理な事も多い
  ```
  import sys
  sys.setrecursionlimit(100000)  #再帰上限を上げる
  ```

## Python 学習メモ

1. 変数スコープ

2. クラスとインスタンス  
   ここの仕様は微妙。クラス変数として定義したいので最初に定義しても  
   self 内で初期化しないとスタティックなクラス値として扱われる。  
   そもそも self をつけないとインスタンス変数にアクセスできないのが冗長で面倒

   ```
   class A:
     no = 0
     data = []
     def __init__(self, no):
       self.no = no
     def setData(d)
       data.append(d)
   a = A(1)
   a.setData('テスト')
   b = B(2)
   b.setData('Python')
   ```

   この場合クラス A の data にどんどん追加していっているのでおかしなことになる

   ```
   data = ['テスト', 'Python']
   ```

3. アルゴリズム一覧

- 動的計画法
- グラフ系

  - 深さ優先探索 DFS  
    起点から次の行き先を再帰ですべて探索。全探索するか途中で終わるかはお題次第。  
    A62-2 参照

  - 幅優先探索 BFS  
    起点からつながる全方向探索する。全探索するか途中で終わるかはお題次第。  
    キューで実現
    A63-2 参照

  - 最小全域木:クラスカル法で算出  
    グラフが全てつながる場合に、最小の経路から繋いでいくと結果的に最短経路になる。頂点が決まっていない場合の手法  
    証明がやたら難しいのとあまり応用性もないのでスニペットで十分かと。

  - ベルマンフォード法  
    始点、終点が決まっている場合の最短（最長も？）路検索アルゴリズム

- にぶたん  
  import bisect
  idx = bisect.bisect_left(Asort, a)
  idx の位置を調べる。
  普通に再帰で書いても難しくはないが速度面で不利。

- UnionFind  
  複数ノードのグループ分けからサイズやどのグループに属するか存在チェックを高速に実現するアルゴリズム

4. ライブラリ一覧

- heapq  
  優先度付きキュー処理  
  かなり高速のため、並び替えが必要な処理ではキューイングで使用したほうがよいかも

  ```
  import heapq
  ls = [(2, 2),(1, 50),(3, 40), (60, 3)]
  heapq.heapify(ls)  #ここで最適初期化してくれる関数

  heapq.heappop(ls) #デキュー
  heapq.heappush(ls,(100 ,50)) #エンキュー
  ```

5. 命名規約・実装規約  
   google のサンプルを参考に
   [google python 規約](https://google.github.io/styleguide/pyguide.html)

- class:アッパーキャメルケース  
  ServiceAccountCredentials
- 変数:ローワーキャメルケース  
  dateRangeValues
- 関数:スネークケース  
  initialize_analyticsreporting
